<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>practica11</title><meta name="description" content="Documentation for practica11"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">practica11</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<h2>practica11</h2></div>
<div class="tsd-panel tsd-typography">
<a href="#practica-11" id="practica-11" style="color: inherit; text-decoration: none;">
  <h1>Practica 11</h1>
</a>
<p><a href="https://coveralls.io/github/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct09-funko-app-Deevo14?branch=main"><img src="https://coveralls.io/repos/github/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct09-funko-app-Deevo14/badge.svg?branch=main" alt="Coverage Status"></a></p>
<p><a href="https://sonarcloud.io/summary/new_code?id=ULL-ESIT-INF-DSI-2223_ull-esit-inf-dsi-22-23-prct09-funko-app-Deevo14"><img src="https://sonarcloud.io/api/project_badges/measure?project=ULL-ESIT-INF-DSI-2223_ull-esit-inf-dsi-22-23-prct09-funko-app-Deevo14&metric=alert_status" alt="Quality Gate Status"></a></p>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct09-funko-app-Deevo14/actions/workflows/node.js.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct09-funko-app-Deevo14/actions/workflows/node.js.yml/badge.svg?branch=main" alt="Tests"></a></p>

<a href="#índice" id="índice" style="color: inherit; text-decoration: none;">
  <h2>Índice</h2>
</a>
<ol>
<li>Tareas Previas</li>
<li>Ejercicios</li>
<li>Test</li>
</ol>

<a href="#tareas-previas" id="tareas-previas" style="color: inherit; text-decoration: none;">
  <h3>Tareas Previas</h3>
</a>
<ul>
<li>Acepte la asignación de GitHub Classroom asociada a esta práctica.</li>
</ul>

<a href="#ejercicio" id="ejercicio" style="color: inherit; text-decoration: none;">
  <h3>Ejercicio</h3>
</a>
<p>Para implementar la aplicación de funko Pops en un servidor se han llevado a cabo las siguientes modificaciones:</p>
<p>El directorio donde se almacenara la base de datos de usuarios y sus FunkoPops sera <strong>./src/FunkoPopApp/funkos/...</strong>.</p>
<p>Las clases <em>funko</em>, <em>funkoPopGenre</em> y <em>funkoPopType</em> se han quedado igual que en anteriores practicas:</p>
<pre><code><span class="hl-0">/**</span><br/><span class="hl-0"> * Enum for the different types of Funko Pops</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">enum</span><span class="hl-2"> </span><span class="hl-4">FunkoPopType</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-5">&quot;Pop!&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-5">&quot;Pop! Rides&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-5">&quot;Vynil Soda&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-5">&quot;Vynil Gold&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-5">&quot;Pop! Rocks&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">  }</span>
</code></pre>
<pre><code><span class="hl-0">/**</span><br/><span class="hl-0"> * Enum for the different types of Funko Pops</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">enum</span><span class="hl-2"> </span><span class="hl-4">FunkoPopType</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-5">&quot;Pop!&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-5">&quot;Pop! Rides&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-5">&quot;Vynil Soda&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-5">&quot;Vynil Gold&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-5">&quot;Pop! Rocks&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">  }</span>
</code></pre>
<pre><code><span class="hl-1">import</span><span class="hl-2"> { </span><span class="hl-6">FunkoPopType</span><span class="hl-2"> } </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-5">&quot;./funkoPopType.js&quot;</span><span class="hl-2">;</span><br/><span class="hl-1">import</span><span class="hl-2"> { </span><span class="hl-6">FunkoPopGenre</span><span class="hl-2"> } </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-5">&quot;./funkoPopGenre.js&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * </span><span class="hl-3">@class</span><span class="hl-0"> FunkoPop</span><br/><span class="hl-0"> * </span><span class="hl-3">@description</span><span class="hl-0"> This class represents a Funko Pop figure.</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">class</span><span class="hl-2"> </span><span class="hl-4">FunkoPop</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-6">id_</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-6">name_</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-6">description_</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-6">type_</span><span class="hl-2">: </span><span class="hl-4">FunkoPopType</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-6">genre_</span><span class="hl-2">: </span><span class="hl-4">FunkoPopGenre</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-6">franchise_</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-6">num_</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-6">exclusive_</span><span class="hl-2">: </span><span class="hl-4">boolean</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-6">specialFeatures_</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-6">marketValue_</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">;</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@constructor</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-6">id</span><span class="hl-0"> unique identifier for the Funko Pop</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-6">name</span><span class="hl-0"> name of the Funko Pop</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-6">description</span><span class="hl-0"> description of the Funko Pop</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-6">type</span><span class="hl-0"> type of the Funko Pop</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-6">genre</span><span class="hl-0"> genre of the Funko Pop</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-6">franchise</span><span class="hl-0"> franchise of the Funko Pop</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-6">num</span><span class="hl-0"> number of the Funko Pop of the franchise</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-6">exclusive</span><span class="hl-0"> boolean value if the Funko Pop is exclusive</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-6">specialFeatures</span><span class="hl-0"> special features of the Funko Pop</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-6">marketValue</span><span class="hl-0"> market value of the Funko Pop</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">constructor</span><span class="hl-2">(</span><br/><span class="hl-2">    </span><span class="hl-6">id</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-6">name</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-6">description</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-6">type</span><span class="hl-2">: </span><span class="hl-4">FunkoPopType</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-6">genre</span><span class="hl-2">: </span><span class="hl-4">FunkoPopGenre</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-6">franchise</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-6">num</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-6">exclusive</span><span class="hl-2">: </span><span class="hl-4">boolean</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-6">specialFeatures</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-6">marketValue</span><span class="hl-2">: </span><span class="hl-4">number</span><br/><span class="hl-2">  ) {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">id_</span><span class="hl-2"> = </span><span class="hl-6">id</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">name_</span><span class="hl-2"> = </span><span class="hl-6">name</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">description_</span><span class="hl-2"> = </span><span class="hl-6">description</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">type_</span><span class="hl-2"> = </span><span class="hl-6">type</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">genre_</span><span class="hl-2"> = </span><span class="hl-6">genre</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">franchise_</span><span class="hl-2"> = </span><span class="hl-6">franchise</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">num_</span><span class="hl-2"> = </span><span class="hl-6">num</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">exclusive_</span><span class="hl-2"> = </span><span class="hl-6">exclusive</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">specialFeatures_</span><span class="hl-2"> = </span><span class="hl-6">specialFeatures</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">marketValue_</span><span class="hl-2"> = </span><span class="hl-6">marketValue</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@description</span><span class="hl-0"> Getter for id</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">get</span><span class="hl-2"> </span><span class="hl-7">ID</span><span class="hl-2">(): </span><span class="hl-4">number</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">id_</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@description</span><span class="hl-0"> Setter for id</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">set</span><span class="hl-2"> </span><span class="hl-7">ID</span><span class="hl-2">(</span><span class="hl-6">id</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">id_</span><span class="hl-2"> = </span><span class="hl-6">id</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@description</span><span class="hl-0"> Getter for name</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">get</span><span class="hl-2"> </span><span class="hl-7">Name</span><span class="hl-2">(): </span><span class="hl-4">string</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">name_</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@description</span><span class="hl-0"> Setter for name</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">set</span><span class="hl-2"> </span><span class="hl-7">Name</span><span class="hl-2">(</span><span class="hl-6">name</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">name_</span><span class="hl-2"> = </span><span class="hl-6">name</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@description</span><span class="hl-0"> Getter for description</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">get</span><span class="hl-2"> </span><span class="hl-7">Description</span><span class="hl-2">(): </span><span class="hl-4">string</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">description_</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@description</span><span class="hl-0"> Setter for description</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">set</span><span class="hl-2"> </span><span class="hl-7">Description</span><span class="hl-2">(</span><span class="hl-6">description</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">description_</span><span class="hl-2"> = </span><span class="hl-6">description</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@description</span><span class="hl-0"> Getter for type</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">get</span><span class="hl-2"> </span><span class="hl-7">Type</span><span class="hl-2">(): </span><span class="hl-4">FunkoPopType</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">type_</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@description</span><span class="hl-0"> Setter for type</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">set</span><span class="hl-2"> </span><span class="hl-7">Type</span><span class="hl-2">(</span><span class="hl-6">type</span><span class="hl-2">: </span><span class="hl-4">FunkoPopType</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">type_</span><span class="hl-2"> = </span><span class="hl-6">type</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@description</span><span class="hl-0"> Getter for genre</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">get</span><span class="hl-2"> </span><span class="hl-7">Genre</span><span class="hl-2">(): </span><span class="hl-4">FunkoPopGenre</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">genre_</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@description</span><span class="hl-0"> Setter for genre</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">set</span><span class="hl-2"> </span><span class="hl-7">Genre</span><span class="hl-2">(</span><span class="hl-6">genre</span><span class="hl-2">: </span><span class="hl-4">FunkoPopGenre</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">genre_</span><span class="hl-2"> = </span><span class="hl-6">genre</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@description</span><span class="hl-0"> Getter for franchise</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">get</span><span class="hl-2"> </span><span class="hl-7">Franchise</span><span class="hl-2">(): </span><span class="hl-4">string</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">franchise_</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@description</span><span class="hl-0"> Setter for franchise</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">set</span><span class="hl-2"> </span><span class="hl-7">Franchise</span><span class="hl-2">(</span><span class="hl-6">franchise</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">franchise_</span><span class="hl-2"> = </span><span class="hl-6">franchise</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@description</span><span class="hl-0"> Getter for num</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">get</span><span class="hl-2"> </span><span class="hl-7">Num</span><span class="hl-2">(): </span><span class="hl-4">number</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">num_</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@description</span><span class="hl-0"> Setter for num</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">set</span><span class="hl-2"> </span><span class="hl-7">Num</span><span class="hl-2">(</span><span class="hl-6">num</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">num_</span><span class="hl-2"> = </span><span class="hl-6">num</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@description</span><span class="hl-0"> Getter for exclusive</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">get</span><span class="hl-2"> </span><span class="hl-7">Exclusive</span><span class="hl-2">(): </span><span class="hl-4">boolean</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">exclusive_</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@description</span><span class="hl-0"> Setter for exclusive</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">set</span><span class="hl-2"> </span><span class="hl-7">Exclusive</span><span class="hl-2">(</span><span class="hl-6">exclusive</span><span class="hl-2">: </span><span class="hl-4">boolean</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">exclusive_</span><span class="hl-2"> = </span><span class="hl-6">exclusive</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@description</span><span class="hl-0"> Getter for specialFeatures</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">get</span><span class="hl-2"> </span><span class="hl-7">SpecialFeatures</span><span class="hl-2">(): </span><span class="hl-4">string</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">specialFeatures_</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@description</span><span class="hl-0"> Setter for specialFeatures</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">set</span><span class="hl-2"> </span><span class="hl-7">SpecialFeatures</span><span class="hl-2">(</span><span class="hl-6">specialFeatures</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">specialFeatures_</span><span class="hl-2"> = </span><span class="hl-6">specialFeatures</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@description</span><span class="hl-0"> Getter for marketValue</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">get</span><span class="hl-2"> </span><span class="hl-7">MarketValue</span><span class="hl-2">(): </span><span class="hl-4">number</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">marketValue_</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@description</span><span class="hl-0"> Setter for marketValue</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">set</span><span class="hl-2"> </span><span class="hl-7">MarketValue</span><span class="hl-2">(</span><span class="hl-6">marketValue</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">marketValue_</span><span class="hl-2"> = </span><span class="hl-6">marketValue</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">}</span>
</code></pre>
<p>Despues, hemos creado <em>app.ts</em> para implentar el servidor HTTP con Express</p>
<pre><code><span class="hl-1">import</span><span class="hl-2"> </span><span class="hl-6">express</span><span class="hl-2"> </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-5">&quot;express&quot;</span><span class="hl-2">;</span><br/><span class="hl-1">import</span><span class="hl-2"> { </span><span class="hl-6">FunkoPop</span><span class="hl-2"> } </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-5">&quot;./funko.js&quot;</span><span class="hl-2">;</span><br/><span class="hl-1">import</span><span class="hl-2"> { </span><span class="hl-6">join</span><span class="hl-2">, </span><span class="hl-6">dirname</span><span class="hl-2"> } </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-5">&quot;path&quot;</span><span class="hl-2">;</span><br/><span class="hl-1">import</span><span class="hl-2"> { </span><span class="hl-6">fileURLToPath</span><span class="hl-2"> } </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-5">&quot;url&quot;</span><span class="hl-2">;</span><br/><span class="hl-1">import</span><span class="hl-2"> { </span><span class="hl-6">FunkoPopType</span><span class="hl-2"> } </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-5">&quot;./funkoPopType.js&quot;</span><span class="hl-2">;</span><br/><span class="hl-1">import</span><span class="hl-2"> { </span><span class="hl-6">FunkoPopGenre</span><span class="hl-2"> } </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-5">&quot;./funkoPopGenre.js&quot;</span><span class="hl-2">;</span><br/><span class="hl-1">import</span><span class="hl-2"> </span><span class="hl-6">fs</span><span class="hl-2"> </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-5">&quot;fs&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">app</span><span class="hl-2"> = </span><span class="hl-7">express</span><span class="hl-2">();</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * Usaremos el verbo Get para obtener los FunkoPops de un usuario o un FunkoPop en concreto</span><br/><span class="hl-0"> */</span><br/><span class="hl-6">app</span><span class="hl-2">.</span><span class="hl-7">get</span><span class="hl-2">(</span><span class="hl-5">&quot;/funkos&quot;</span><span class="hl-2">, (</span><span class="hl-6">req</span><span class="hl-2">, </span><span class="hl-6">res</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-1">if</span><span class="hl-2"> (!</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">userName</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-6">res</span><span class="hl-2">.</span><span class="hl-7">status</span><span class="hl-2">(</span><span class="hl-9">400</span><span class="hl-2">).</span><span class="hl-7">json</span><span class="hl-2">({</span><br/><span class="hl-2">      </span><span class="hl-6">success:</span><span class="hl-2"> </span><span class="hl-3">false</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-6">error:</span><span class="hl-2"> </span><span class="hl-5">&quot;No se ha introducido el nombre de usuario&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">    });</span><br/><span class="hl-2">  } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-0">//Buscamos la carpeta del usuario</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">userName</span><span class="hl-2"> = </span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">userName</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">userFolder</span><span class="hl-2"> = </span><span class="hl-7">join</span><span class="hl-2">(</span><br/><span class="hl-2">      </span><span class="hl-7">dirname</span><span class="hl-2">(</span><span class="hl-7">fileURLToPath</span><span class="hl-2">(</span><span class="hl-1">import</span><span class="hl-2">.</span><span class="hl-6">meta</span><span class="hl-2">.</span><span class="hl-6">url</span><span class="hl-2">)),</span><br/><span class="hl-2">      </span><span class="hl-5">`../../src/FunkoPopApp/funkos/</span><span class="hl-3">${</span><span class="hl-6">userName</span><span class="hl-3">}</span><span class="hl-5">`</span><br/><span class="hl-2">    );</span><br/><span class="hl-2">    </span><span class="hl-0">//Si no existe devolvemos error</span><br/><span class="hl-2">    </span><span class="hl-1">if</span><span class="hl-2"> (!</span><span class="hl-6">fs</span><span class="hl-2">.</span><span class="hl-7">existsSync</span><span class="hl-2">(</span><span class="hl-6">userFolder</span><span class="hl-2">)) {</span><br/><span class="hl-2">      </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-6">res</span><span class="hl-2">.</span><span class="hl-7">status</span><span class="hl-2">(</span><span class="hl-9">400</span><span class="hl-2">).</span><span class="hl-7">json</span><span class="hl-2">({</span><br/><span class="hl-2">        </span><span class="hl-6">success:</span><span class="hl-2"> </span><span class="hl-3">false</span><span class="hl-2">,</span><br/><span class="hl-2">        </span><span class="hl-6">error:</span><span class="hl-2"> </span><span class="hl-5">&quot;No existe el usuario&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">      });</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">    </span><span class="hl-0">//Buscamos los ficheros de los FunkoPops</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">funkoPops</span><span class="hl-2"> = </span><span class="hl-6">fs</span><span class="hl-2">.</span><span class="hl-7">readdirSync</span><span class="hl-2">(</span><span class="hl-6">userFolder</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-0">//Si no hay ninguno devolvemos un mensjae de que no hay FunkoPops</span><br/><span class="hl-2">    </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-6">funkoPops</span><span class="hl-2">.</span><span class="hl-6">length</span><span class="hl-2"> === </span><span class="hl-9">0</span><span class="hl-2">) {</span><br/><span class="hl-2">      </span><span class="hl-6">res</span><span class="hl-2">.</span><span class="hl-7">send</span><span class="hl-2">(</span><span class="hl-5">`En el directorio del usuaruio </span><span class="hl-3">${</span><span class="hl-6">userName</span><span class="hl-3">}</span><span class="hl-5"> no hay FunkoPops`</span><span class="hl-2">);</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">    </span><span class="hl-0">//Si hay un id devolvemos el FunkoPop con ese id</span><br/><span class="hl-2">    </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">id</span><span class="hl-2">) {</span><br/><span class="hl-2">      </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-6">funkoPops</span><span class="hl-2">.</span><span class="hl-7">includes</span><span class="hl-2">(</span><span class="hl-5">`</span><span class="hl-3">${</span><span class="hl-6">req</span><span class="hl-10">.</span><span class="hl-6">query</span><span class="hl-10">.</span><span class="hl-6">id</span><span class="hl-3">}</span><span class="hl-5">.json`</span><span class="hl-2">)) {</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">id</span><span class="hl-2"> = </span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">id</span><span class="hl-2">;</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">funkoPopFile</span><span class="hl-2"> = </span><span class="hl-6">fs</span><span class="hl-2">.</span><span class="hl-7">readFileSync</span><span class="hl-2">(</span><br/><span class="hl-2">          </span><span class="hl-7">join</span><span class="hl-2">(</span><span class="hl-6">userFolder</span><span class="hl-2">, </span><span class="hl-5">`</span><span class="hl-3">${</span><span class="hl-6">id</span><span class="hl-3">}</span><span class="hl-5">.json`</span><span class="hl-2">),</span><br/><span class="hl-2">          </span><span class="hl-5">&quot;utf-8&quot;</span><br/><span class="hl-2">        );</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">funkoPop</span><span class="hl-2"> = </span><span class="hl-8">JSON</span><span class="hl-2">.</span><span class="hl-7">parse</span><span class="hl-2">(</span><span class="hl-6">funkoPopFile</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-6">res</span><span class="hl-2">.</span><span class="hl-7">status</span><span class="hl-2">(</span><span class="hl-9">200</span><span class="hl-2">).</span><span class="hl-7">json</span><span class="hl-2">({</span><br/><span class="hl-2">          </span><span class="hl-6">success:</span><span class="hl-2"> </span><span class="hl-3">true</span><span class="hl-2">,</span><br/><span class="hl-2">          </span><span class="hl-6">funkoPop:</span><span class="hl-2"> </span><span class="hl-6">funkoPop</span><span class="hl-2">,</span><br/><span class="hl-2">        });</span><br/><span class="hl-2">      } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-6">res</span><span class="hl-2">.</span><span class="hl-7">status</span><span class="hl-2">(</span><span class="hl-9">400</span><span class="hl-2">).</span><span class="hl-7">json</span><span class="hl-2">({</span><br/><span class="hl-2">          </span><span class="hl-6">success:</span><span class="hl-2"> </span><span class="hl-3">false</span><span class="hl-2">,</span><br/><span class="hl-2">          </span><span class="hl-6">error:</span><span class="hl-2"> </span><span class="hl-5">&quot;No existe el FunkoPop con ese id&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">        });</span><br/><span class="hl-2">      }</span><br/><span class="hl-2">    } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-0">//Si no hay id devolvemos todos los FunkoPops</span><br/><span class="hl-2">      </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">funkoPopsArray</span><span class="hl-2">: </span><span class="hl-4">FunkoPop</span><span class="hl-2">[] = [];</span><br/><span class="hl-2">      </span><span class="hl-6">funkoPops</span><span class="hl-2">.</span><span class="hl-7">forEach</span><span class="hl-2">((</span><span class="hl-6">funkoPop</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">funkoPopFile</span><span class="hl-2"> = </span><span class="hl-6">fs</span><span class="hl-2">.</span><span class="hl-7">readFileSync</span><span class="hl-2">(</span><br/><span class="hl-2">          </span><span class="hl-7">join</span><span class="hl-2">(</span><span class="hl-6">userFolder</span><span class="hl-2">, </span><span class="hl-6">funkoPop</span><span class="hl-2">),</span><br/><span class="hl-2">          </span><span class="hl-5">&quot;utf-8&quot;</span><br/><span class="hl-2">        );</span><br/><span class="hl-2">        </span><span class="hl-6">funkoPopsArray</span><span class="hl-2">.</span><span class="hl-7">push</span><span class="hl-2">(</span><span class="hl-8">JSON</span><span class="hl-2">.</span><span class="hl-7">parse</span><span class="hl-2">(</span><span class="hl-6">funkoPopFile</span><span class="hl-2">));</span><br/><span class="hl-2">      });</span><br/><span class="hl-2">      </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-6">res</span><span class="hl-2">.</span><span class="hl-7">status</span><span class="hl-2">(</span><span class="hl-9">200</span><span class="hl-2">).</span><span class="hl-7">json</span><span class="hl-2">({</span><br/><span class="hl-2">        </span><span class="hl-6">success:</span><span class="hl-2"> </span><span class="hl-3">true</span><span class="hl-2">,</span><br/><span class="hl-2">        </span><span class="hl-6">funkoPops:</span><span class="hl-2"> </span><span class="hl-6">funkoPopsArray</span><span class="hl-2">,</span><br/><span class="hl-2">      });</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * Usaremos el verbo Post para añadir un FunkoPop a un usuario</span><br/><span class="hl-0"> */</span><br/><span class="hl-6">app</span><span class="hl-2">.</span><span class="hl-7">post</span><span class="hl-2">(</span><span class="hl-5">&quot;/funkos&quot;</span><span class="hl-2">, (</span><span class="hl-6">req</span><span class="hl-2">, </span><span class="hl-6">res</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-1">if</span><span class="hl-2"> (</span><br/><span class="hl-2">    !</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">userName</span><span class="hl-2"> ||</span><br/><span class="hl-2">    !</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">id</span><span class="hl-2"> ||</span><br/><span class="hl-2">    !</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">name</span><span class="hl-2"> ||</span><br/><span class="hl-2">    !</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">description</span><span class="hl-2"> ||</span><br/><span class="hl-2">    !</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">type</span><span class="hl-2"> ||</span><br/><span class="hl-2">    !</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">genre</span><span class="hl-2"> ||</span><br/><span class="hl-2">    !</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">franchise</span><span class="hl-2"> ||</span><br/><span class="hl-2">    !</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">number</span><span class="hl-2"> ||</span><br/><span class="hl-2">    !</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">exclusive</span><span class="hl-2"> ||</span><br/><span class="hl-2">    !</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">specialFeatures</span><span class="hl-2"> ||</span><br/><span class="hl-2">    !</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">marketValue</span><br/><span class="hl-2">  ) {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-6">res</span><span class="hl-2">.</span><span class="hl-7">status</span><span class="hl-2">(</span><span class="hl-9">400</span><span class="hl-2">).</span><span class="hl-7">json</span><span class="hl-2">({</span><br/><span class="hl-2">      </span><span class="hl-6">success:</span><span class="hl-2"> </span><span class="hl-3">false</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-6">error:</span><span class="hl-2"> </span><span class="hl-5">&quot;No se han introducido todos los datos&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">    });</span><br/><span class="hl-2">  } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-0">//Buscamos la carpeta del usuario</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">userName</span><span class="hl-2"> = </span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">userName</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">userFolder</span><span class="hl-2"> = </span><span class="hl-7">join</span><span class="hl-2">(</span><br/><span class="hl-2">      </span><span class="hl-7">dirname</span><span class="hl-2">(</span><span class="hl-7">fileURLToPath</span><span class="hl-2">(</span><span class="hl-1">import</span><span class="hl-2">.</span><span class="hl-6">meta</span><span class="hl-2">.</span><span class="hl-6">url</span><span class="hl-2">)),</span><br/><span class="hl-2">      </span><span class="hl-5">`../../src/FunkoPopApp/funkos/</span><span class="hl-3">${</span><span class="hl-6">userName</span><span class="hl-3">}</span><span class="hl-5">`</span><br/><span class="hl-2">    );</span><br/><span class="hl-2">    </span><span class="hl-0">//Si no existe lo creamos</span><br/><span class="hl-2">    </span><span class="hl-1">if</span><span class="hl-2"> (!</span><span class="hl-6">fs</span><span class="hl-2">.</span><span class="hl-7">existsSync</span><span class="hl-2">(</span><span class="hl-6">userFolder</span><span class="hl-2">)) {</span><br/><span class="hl-2">      </span><span class="hl-6">fs</span><span class="hl-2">.</span><span class="hl-7">mkdirSync</span><span class="hl-2">(</span><span class="hl-6">userFolder</span><span class="hl-2">);</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">    </span><span class="hl-0">//Buscamos los ficheros de los FunkoPops</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">funkoPops</span><span class="hl-2"> = </span><span class="hl-6">fs</span><span class="hl-2">.</span><span class="hl-7">readdirSync</span><span class="hl-2">(</span><span class="hl-6">userFolder</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">id</span><span class="hl-2"> = </span><span class="hl-7">parseInt</span><span class="hl-2">(</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">id</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">string</span><span class="hl-2">);</span><br/><br/><span class="hl-2">    </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-6">funkoPops</span><span class="hl-2">.</span><span class="hl-7">includes</span><span class="hl-2">(</span><span class="hl-5">`</span><span class="hl-3">${</span><span class="hl-6">id</span><span class="hl-3">}</span><span class="hl-5">.json`</span><span class="hl-2">)) {</span><br/><span class="hl-2">      </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-6">res</span><span class="hl-2">.</span><span class="hl-7">status</span><span class="hl-2">(</span><span class="hl-9">400</span><span class="hl-2">).</span><span class="hl-7">json</span><span class="hl-2">({</span><br/><span class="hl-2">        </span><span class="hl-6">success:</span><span class="hl-2"> </span><span class="hl-3">false</span><span class="hl-2">,</span><br/><span class="hl-2">        </span><span class="hl-6">error:</span><span class="hl-2"> </span><span class="hl-5">&quot;Ya existe un FunkoPop con ese id&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">      });</span><br/><span class="hl-2">    } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">name</span><span class="hl-2"> = </span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">name</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">string</span><span class="hl-2">;</span><br/><span class="hl-2">      </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">description</span><span class="hl-2"> = </span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">description</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">string</span><span class="hl-2">;</span><br/><span class="hl-2">      </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">type</span><span class="hl-2"> = </span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">type</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">unknown</span><span class="hl-2">;</span><br/><span class="hl-2">      </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">genre</span><span class="hl-2"> = </span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">genre</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">unknown</span><span class="hl-2">;</span><br/><span class="hl-2">      </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">franchise</span><span class="hl-2"> = </span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">franchise</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">string</span><span class="hl-2">;</span><br/><span class="hl-2">      </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">number</span><span class="hl-2"> = </span><span class="hl-7">parseInt</span><span class="hl-2">(</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">number</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">string</span><span class="hl-2">);</span><br/><span class="hl-2">      </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">exclusive</span><span class="hl-2"> = </span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">exclusive</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">string</span><span class="hl-2">;</span><br/><span class="hl-2">      </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">specialFeatures</span><span class="hl-2"> = </span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">specialFeatures</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">string</span><span class="hl-2">;</span><br/><span class="hl-2">      </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">marketValue</span><span class="hl-2"> = </span><span class="hl-7">parseInt</span><span class="hl-2">(</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">marketValue</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">string</span><span class="hl-2">);</span><br/><br/><span class="hl-2">      </span><span class="hl-0">//Comprobamos que las opciones son correctas</span><br/><span class="hl-2">      </span><span class="hl-1">if</span><span class="hl-2"> (!</span><span class="hl-6">Object</span><span class="hl-2">.</span><span class="hl-7">values</span><span class="hl-2">(</span><span class="hl-6">FunkoPopType</span><span class="hl-2">).</span><span class="hl-7">includes</span><span class="hl-2">(</span><span class="hl-6">type</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">FunkoPopType</span><span class="hl-2">)) {</span><br/><span class="hl-2">        </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-6">res</span><span class="hl-2">.</span><span class="hl-7">status</span><span class="hl-2">(</span><span class="hl-9">400</span><span class="hl-2">).</span><span class="hl-7">json</span><span class="hl-2">({</span><br/><span class="hl-2">          </span><span class="hl-6">success:</span><span class="hl-2"> </span><span class="hl-3">false</span><span class="hl-2">,</span><br/><span class="hl-2">          </span><span class="hl-6">error:</span><span class="hl-2"> </span><span class="hl-5">&quot;El tipo introducido no es correcto&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">        });</span><br/><span class="hl-2">      } </span><span class="hl-1">else</span><span class="hl-2"> </span><span class="hl-1">if</span><span class="hl-2"> (</span><br/><span class="hl-2">        !</span><span class="hl-6">Object</span><span class="hl-2">.</span><span class="hl-7">values</span><span class="hl-2">(</span><span class="hl-6">FunkoPopGenre</span><span class="hl-2">).</span><span class="hl-7">includes</span><span class="hl-2">(</span><span class="hl-6">genre</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">FunkoPopGenre</span><span class="hl-2">)</span><br/><span class="hl-2">      ) {</span><br/><span class="hl-2">        </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-6">res</span><span class="hl-2">.</span><span class="hl-7">status</span><span class="hl-2">(</span><span class="hl-9">400</span><span class="hl-2">).</span><span class="hl-7">json</span><span class="hl-2">({</span><br/><span class="hl-2">          </span><span class="hl-6">success:</span><span class="hl-2"> </span><span class="hl-3">false</span><span class="hl-2">,</span><br/><span class="hl-2">          </span><span class="hl-6">error:</span><span class="hl-2"> </span><span class="hl-5">&quot;El género introducido no es correcto&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">        });</span><br/><span class="hl-2">      } </span><span class="hl-1">else</span><span class="hl-2"> </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-6">exclusive</span><span class="hl-2"> !== </span><span class="hl-5">&quot;true&quot;</span><span class="hl-2"> &amp;&amp; </span><span class="hl-6">exclusive</span><span class="hl-2"> !== </span><span class="hl-5">&quot;false&quot;</span><span class="hl-2">) {</span><br/><span class="hl-2">        </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-6">res</span><span class="hl-2">.</span><span class="hl-7">status</span><span class="hl-2">(</span><span class="hl-9">400</span><span class="hl-2">).</span><span class="hl-7">json</span><span class="hl-2">({</span><br/><span class="hl-2">          </span><span class="hl-6">success:</span><span class="hl-2"> </span><span class="hl-3">false</span><span class="hl-2">,</span><br/><span class="hl-2">          </span><span class="hl-6">error:</span><span class="hl-2"> </span><span class="hl-5">&quot;El valor de exclusive debe ser true o false&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">        });</span><br/><span class="hl-2">      } </span><span class="hl-1">else</span><span class="hl-2"> </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-6">marketValue</span><span class="hl-2"> &lt; </span><span class="hl-9">0</span><span class="hl-2">) {</span><br/><span class="hl-2">        </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-6">res</span><span class="hl-2">.</span><span class="hl-7">status</span><span class="hl-2">(</span><span class="hl-9">400</span><span class="hl-2">).</span><span class="hl-7">json</span><span class="hl-2">({</span><br/><span class="hl-2">          </span><span class="hl-6">success:</span><span class="hl-2"> </span><span class="hl-3">false</span><span class="hl-2">,</span><br/><span class="hl-2">          </span><span class="hl-6">error:</span><span class="hl-2"> </span><span class="hl-5">&quot;El valor de marketValue debe ser mayor que 0&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">        });</span><br/><span class="hl-2">      } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">funkoType</span><span class="hl-2"> = </span><span class="hl-6">type</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">FunkoPopType</span><span class="hl-2">;</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">funkoGenre</span><span class="hl-2"> = </span><span class="hl-6">genre</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">FunkoPopGenre</span><span class="hl-2">;</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">funkoExclusive</span><span class="hl-2"> = </span><span class="hl-6">exclusive</span><span class="hl-2"> === </span><span class="hl-5">&quot;true&quot;</span><span class="hl-2"> ? </span><span class="hl-3">true</span><span class="hl-2"> : </span><span class="hl-3">false</span><span class="hl-2">;</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">newFunkoPop</span><span class="hl-2"> = </span><span class="hl-3">new</span><span class="hl-2"> </span><span class="hl-7">FunkoPop</span><span class="hl-2">(</span><br/><span class="hl-2">          </span><span class="hl-6">id</span><span class="hl-2">,</span><br/><span class="hl-2">          </span><span class="hl-6">name</span><span class="hl-2">,</span><br/><span class="hl-2">          </span><span class="hl-6">description</span><span class="hl-2">,</span><br/><span class="hl-2">          </span><span class="hl-6">funkoType</span><span class="hl-2">,</span><br/><span class="hl-2">          </span><span class="hl-6">funkoGenre</span><span class="hl-2">,</span><br/><span class="hl-2">          </span><span class="hl-6">franchise</span><span class="hl-2">,</span><br/><span class="hl-2">          </span><span class="hl-6">number</span><span class="hl-2">,</span><br/><span class="hl-2">          </span><span class="hl-6">funkoExclusive</span><span class="hl-2">,</span><br/><span class="hl-2">          </span><span class="hl-6">specialFeatures</span><span class="hl-2">,</span><br/><span class="hl-2">          </span><span class="hl-6">marketValue</span><br/><span class="hl-2">        );</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">funkoPopFile</span><span class="hl-2"> = </span><span class="hl-8">JSON</span><span class="hl-2">.</span><span class="hl-7">stringify</span><span class="hl-2">(</span><span class="hl-6">newFunkoPop</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-6">fs</span><span class="hl-2">.</span><span class="hl-7">writeFileSync</span><span class="hl-2">(</span><span class="hl-7">join</span><span class="hl-2">(</span><span class="hl-6">userFolder</span><span class="hl-2">, </span><span class="hl-5">`</span><span class="hl-3">${</span><span class="hl-6">id</span><span class="hl-3">}</span><span class="hl-5">.json`</span><span class="hl-2">), </span><span class="hl-6">funkoPopFile</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-6">res</span><span class="hl-2">.</span><span class="hl-7">status</span><span class="hl-2">(</span><span class="hl-9">200</span><span class="hl-2">).</span><span class="hl-7">json</span><span class="hl-2">({</span><br/><span class="hl-2">          </span><span class="hl-6">success:</span><span class="hl-2"> </span><span class="hl-3">true</span><span class="hl-2">,</span><br/><span class="hl-2">          </span><span class="hl-6">funkoPop:</span><span class="hl-2"> </span><span class="hl-6">newFunkoPop</span><span class="hl-2">,</span><br/><span class="hl-2">        });</span><br/><span class="hl-2">      }</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * Usaremos el verbo delete para borrar un FunkoPop de un usuario</span><br/><span class="hl-0"> */</span><br/><span class="hl-6">app</span><span class="hl-2">.</span><span class="hl-7">delete</span><span class="hl-2">(</span><span class="hl-5">&quot;/funkos&quot;</span><span class="hl-2">, (</span><span class="hl-6">req</span><span class="hl-2">, </span><span class="hl-6">res</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-1">if</span><span class="hl-2"> (!</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">userName</span><span class="hl-2"> || !</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">id</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-6">res</span><span class="hl-2">.</span><span class="hl-7">status</span><span class="hl-2">(</span><span class="hl-9">400</span><span class="hl-2">).</span><span class="hl-7">json</span><span class="hl-2">({</span><br/><span class="hl-2">      </span><span class="hl-6">success:</span><span class="hl-2"> </span><span class="hl-3">false</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-6">error:</span><span class="hl-2"> </span><span class="hl-5">&quot;No se han introducido todos los datos&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">    });</span><br/><span class="hl-2">  } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-0">//Buscamos la carpeta del usuario</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">userName</span><span class="hl-2"> = </span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">userName</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">userFolder</span><span class="hl-2"> = </span><span class="hl-7">join</span><span class="hl-2">(</span><br/><span class="hl-2">      </span><span class="hl-7">dirname</span><span class="hl-2">(</span><span class="hl-7">fileURLToPath</span><span class="hl-2">(</span><span class="hl-1">import</span><span class="hl-2">.</span><span class="hl-6">meta</span><span class="hl-2">.</span><span class="hl-6">url</span><span class="hl-2">)),</span><br/><span class="hl-2">      </span><span class="hl-5">`../../src/FunkoPopApp/funkos/</span><span class="hl-3">${</span><span class="hl-6">userName</span><span class="hl-3">}</span><span class="hl-5">`</span><br/><span class="hl-2">    );</span><br/><span class="hl-2">    </span><span class="hl-0">//Si no existe devolvemos error</span><br/><span class="hl-2">    </span><span class="hl-1">if</span><span class="hl-2"> (!</span><span class="hl-6">fs</span><span class="hl-2">.</span><span class="hl-7">existsSync</span><span class="hl-2">(</span><span class="hl-6">userFolder</span><span class="hl-2">)) {</span><br/><span class="hl-2">      </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-6">res</span><span class="hl-2">.</span><span class="hl-7">status</span><span class="hl-2">(</span><span class="hl-9">400</span><span class="hl-2">).</span><span class="hl-7">json</span><span class="hl-2">({</span><br/><span class="hl-2">        </span><span class="hl-6">success:</span><span class="hl-2"> </span><span class="hl-3">false</span><span class="hl-2">,</span><br/><span class="hl-2">        </span><span class="hl-6">error:</span><span class="hl-2"> </span><span class="hl-5">&quot;No existe el usuario&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">      });</span><br/><span class="hl-2">    } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-0">//Buscamos los ficheros de los FunkoPops</span><br/><span class="hl-2">      </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">funkoPops</span><span class="hl-2"> = </span><span class="hl-6">fs</span><span class="hl-2">.</span><span class="hl-7">readdirSync</span><span class="hl-2">(</span><span class="hl-6">userFolder</span><span class="hl-2">);</span><br/><span class="hl-2">      </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">id</span><span class="hl-2"> = </span><span class="hl-7">parseInt</span><span class="hl-2">(</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">id</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">string</span><span class="hl-2">);</span><br/><br/><span class="hl-2">      </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-6">funkoPops</span><span class="hl-2">.</span><span class="hl-7">includes</span><span class="hl-2">(</span><span class="hl-5">`</span><span class="hl-3">${</span><span class="hl-6">id</span><span class="hl-3">}</span><span class="hl-5">.json`</span><span class="hl-2">)) {</span><br/><span class="hl-2">        </span><span class="hl-6">fs</span><span class="hl-2">.</span><span class="hl-7">unlinkSync</span><span class="hl-2">(</span><span class="hl-7">join</span><span class="hl-2">(</span><span class="hl-6">userFolder</span><span class="hl-2">, </span><span class="hl-5">`</span><span class="hl-3">${</span><span class="hl-6">id</span><span class="hl-3">}</span><span class="hl-5">.json`</span><span class="hl-2">));</span><br/><span class="hl-2">        </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-6">res</span><span class="hl-2">.</span><span class="hl-7">status</span><span class="hl-2">(</span><span class="hl-9">200</span><span class="hl-2">).</span><span class="hl-7">json</span><span class="hl-2">({</span><br/><span class="hl-2">          </span><span class="hl-6">success:</span><span class="hl-2"> </span><span class="hl-3">true</span><span class="hl-2">,</span><br/><span class="hl-2">          </span><span class="hl-6">message:</span><span class="hl-2"> </span><span class="hl-5">&quot;FunkoPop eliminado correctamente&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">        });</span><br/><span class="hl-2">      } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-6">res</span><span class="hl-2">.</span><span class="hl-7">status</span><span class="hl-2">(</span><span class="hl-9">400</span><span class="hl-2">).</span><span class="hl-7">json</span><span class="hl-2">({</span><br/><span class="hl-2">          </span><span class="hl-6">success:</span><span class="hl-2"> </span><span class="hl-3">false</span><span class="hl-2">,</span><br/><span class="hl-2">          </span><span class="hl-6">error:</span><span class="hl-2"> </span><span class="hl-5">&quot;No existe el FunkoPop con ese id&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">        });</span><br/><span class="hl-2">      }</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">});</span><br/><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * Usaremos el verbo patch para modificar un FunkoPop de un usuario</span><br/><span class="hl-0"> */</span><br/><span class="hl-6">app</span><span class="hl-2">.</span><span class="hl-7">patch</span><span class="hl-2">(</span><span class="hl-5">&quot;/funkos&quot;</span><span class="hl-2">, (</span><span class="hl-6">req</span><span class="hl-2">, </span><span class="hl-6">res</span><span class="hl-2">) </span><span class="hl-3">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-1">if</span><span class="hl-2"> (</span><br/><span class="hl-2">    !</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">userName</span><span class="hl-2"> ||</span><br/><span class="hl-2">    !</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">id</span><span class="hl-2"> ||</span><br/><span class="hl-2">    !</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">name</span><span class="hl-2"> ||</span><br/><span class="hl-2">    !</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">description</span><span class="hl-2"> ||</span><br/><span class="hl-2">    !</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">type</span><span class="hl-2"> ||</span><br/><span class="hl-2">    !</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">genre</span><span class="hl-2"> ||</span><br/><span class="hl-2">    !</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">franchise</span><span class="hl-2"> ||</span><br/><span class="hl-2">    !</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">number</span><span class="hl-2"> ||</span><br/><span class="hl-2">    !</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">exclusive</span><span class="hl-2"> ||</span><br/><span class="hl-2">    !</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">specialFeatures</span><span class="hl-2"> ||</span><br/><span class="hl-2">    !</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">marketValue</span><br/><span class="hl-2">  ) {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-6">res</span><span class="hl-2">.</span><span class="hl-7">status</span><span class="hl-2">(</span><span class="hl-9">400</span><span class="hl-2">).</span><span class="hl-7">json</span><span class="hl-2">({</span><br/><span class="hl-2">      </span><span class="hl-6">success:</span><span class="hl-2"> </span><span class="hl-3">false</span><span class="hl-2">,</span><br/><span class="hl-2">      </span><span class="hl-6">error:</span><span class="hl-2"> </span><span class="hl-5">&quot;No se han introducido todos los datos&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">    });</span><br/><span class="hl-2">  } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-0">//Buscamos la carpeta del usuario</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">userName</span><span class="hl-2"> = </span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">userName</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">userFolder</span><span class="hl-2"> = </span><span class="hl-7">join</span><span class="hl-2">(</span><br/><span class="hl-2">      </span><span class="hl-7">dirname</span><span class="hl-2">(</span><span class="hl-7">fileURLToPath</span><span class="hl-2">(</span><span class="hl-1">import</span><span class="hl-2">.</span><span class="hl-6">meta</span><span class="hl-2">.</span><span class="hl-6">url</span><span class="hl-2">)),</span><br/><span class="hl-2">      </span><span class="hl-5">`../../src/FunkoPopApp/funkos/</span><span class="hl-3">${</span><span class="hl-6">userName</span><span class="hl-3">}</span><span class="hl-5">`</span><br/><span class="hl-2">    );</span><br/><span class="hl-2">    </span><span class="hl-0">//Si no existe devolvemos error</span><br/><span class="hl-2">    </span><span class="hl-1">if</span><span class="hl-2"> (!</span><span class="hl-6">fs</span><span class="hl-2">.</span><span class="hl-7">existsSync</span><span class="hl-2">(</span><span class="hl-6">userFolder</span><span class="hl-2">)) {</span><br/><span class="hl-2">      </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-6">res</span><span class="hl-2">.</span><span class="hl-7">status</span><span class="hl-2">(</span><span class="hl-9">400</span><span class="hl-2">).</span><span class="hl-7">json</span><span class="hl-2">({</span><br/><span class="hl-2">        </span><span class="hl-6">success:</span><span class="hl-2"> </span><span class="hl-3">false</span><span class="hl-2">,</span><br/><span class="hl-2">        </span><span class="hl-6">error:</span><span class="hl-2"> </span><span class="hl-5">&quot;No existe el usuario&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">      });</span><br/><span class="hl-2">    } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-0">//Buscamos los ficheros de los FunkoPops</span><br/><span class="hl-2">      </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">funkoPops</span><span class="hl-2"> = </span><span class="hl-6">fs</span><span class="hl-2">.</span><span class="hl-7">readdirSync</span><span class="hl-2">(</span><span class="hl-6">userFolder</span><span class="hl-2">);</span><br/><span class="hl-2">      </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">id</span><span class="hl-2"> = </span><span class="hl-7">parseInt</span><span class="hl-2">(</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">id</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">string</span><span class="hl-2">);</span><br/><br/><span class="hl-2">      </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-6">funkoPops</span><span class="hl-2">.</span><span class="hl-7">includes</span><span class="hl-2">(</span><span class="hl-5">`</span><span class="hl-3">${</span><span class="hl-6">id</span><span class="hl-3">}</span><span class="hl-5">.json`</span><span class="hl-2">)) {</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">name</span><span class="hl-2"> = </span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">name</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">string</span><span class="hl-2">;</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">description</span><span class="hl-2"> = </span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">description</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">string</span><span class="hl-2">;</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">type</span><span class="hl-2"> = </span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">type</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">unknown</span><span class="hl-2">;</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">genre</span><span class="hl-2"> = </span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">genre</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">unknown</span><span class="hl-2">;</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">franchise</span><span class="hl-2"> = </span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">franchise</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">string</span><span class="hl-2">;</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">number</span><span class="hl-2"> = </span><span class="hl-7">parseInt</span><span class="hl-2">(</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">number</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">string</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">exclusive</span><span class="hl-2"> = </span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">exclusive</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">string</span><span class="hl-2">;</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">specialFeatures</span><span class="hl-2"> = </span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">specialFeatures</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">string</span><span class="hl-2">;</span><br/><span class="hl-2">        </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">marketValue</span><span class="hl-2"> = </span><span class="hl-7">parseInt</span><span class="hl-2">(</span><span class="hl-6">req</span><span class="hl-2">.</span><span class="hl-6">query</span><span class="hl-2">.</span><span class="hl-6">marketValue</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">string</span><span class="hl-2">);</span><br/><br/><span class="hl-2">        </span><span class="hl-0">//Comprobamos que las opciones son correctas</span><br/><span class="hl-2">        </span><span class="hl-1">if</span><span class="hl-2"> (!</span><span class="hl-6">Object</span><span class="hl-2">.</span><span class="hl-7">values</span><span class="hl-2">(</span><span class="hl-6">FunkoPopType</span><span class="hl-2">).</span><span class="hl-7">includes</span><span class="hl-2">(</span><span class="hl-6">type</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">FunkoPopType</span><span class="hl-2">)) {</span><br/><span class="hl-2">          </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-6">res</span><span class="hl-2">.</span><span class="hl-7">status</span><span class="hl-2">(</span><span class="hl-9">400</span><span class="hl-2">).</span><span class="hl-7">json</span><span class="hl-2">({</span><br/><span class="hl-2">            </span><span class="hl-6">success:</span><span class="hl-2"> </span><span class="hl-3">false</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-6">error:</span><span class="hl-2"> </span><span class="hl-5">&quot;El tipo introducido no es correcto&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">          });</span><br/><span class="hl-2">        } </span><span class="hl-1">else</span><span class="hl-2"> </span><span class="hl-1">if</span><span class="hl-2"> (</span><br/><span class="hl-2">          !</span><span class="hl-6">Object</span><span class="hl-2">.</span><span class="hl-7">values</span><span class="hl-2">(</span><span class="hl-6">FunkoPopGenre</span><span class="hl-2">).</span><span class="hl-7">includes</span><span class="hl-2">(</span><span class="hl-6">genre</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">FunkoPopGenre</span><span class="hl-2">)</span><br/><span class="hl-2">        ) {</span><br/><span class="hl-2">          </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-6">res</span><span class="hl-2">.</span><span class="hl-7">status</span><span class="hl-2">(</span><span class="hl-9">400</span><span class="hl-2">).</span><span class="hl-7">json</span><span class="hl-2">({</span><br/><span class="hl-2">            </span><span class="hl-6">success:</span><span class="hl-2"> </span><span class="hl-3">false</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-6">error:</span><span class="hl-2"> </span><span class="hl-5">&quot;El género introducido no es correcto&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">          });</span><br/><span class="hl-2">        } </span><span class="hl-1">else</span><span class="hl-2"> </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-6">exclusive</span><span class="hl-2"> !== </span><span class="hl-5">&quot;true&quot;</span><span class="hl-2"> &amp;&amp; </span><span class="hl-6">exclusive</span><span class="hl-2"> !== </span><span class="hl-5">&quot;false&quot;</span><span class="hl-2">) {</span><br/><span class="hl-2">          </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-6">res</span><span class="hl-2">.</span><span class="hl-7">status</span><span class="hl-2">(</span><span class="hl-9">400</span><span class="hl-2">).</span><span class="hl-7">json</span><span class="hl-2">({</span><br/><span class="hl-2">            </span><span class="hl-6">success:</span><span class="hl-2"> </span><span class="hl-3">false</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-6">error:</span><span class="hl-2"> </span><span class="hl-5">&quot;El valor de exclusive debe ser true o false&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">          });</span><br/><span class="hl-2">        } </span><span class="hl-1">else</span><span class="hl-2"> </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-6">marketValue</span><span class="hl-2"> &lt; </span><span class="hl-9">0</span><span class="hl-2">) {</span><br/><span class="hl-2">          </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-6">res</span><span class="hl-2">.</span><span class="hl-7">status</span><span class="hl-2">(</span><span class="hl-9">400</span><span class="hl-2">).</span><span class="hl-7">json</span><span class="hl-2">({</span><br/><span class="hl-2">            </span><span class="hl-6">success:</span><span class="hl-2"> </span><span class="hl-3">false</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-6">error:</span><span class="hl-2"> </span><span class="hl-5">&quot;El valor de marketValue debe ser mayor que 0&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">          });</span><br/><span class="hl-2">        } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">          </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">funkoType</span><span class="hl-2"> = </span><span class="hl-6">type</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">FunkoPopType</span><span class="hl-2">;</span><br/><span class="hl-2">          </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">funkoGenre</span><span class="hl-2"> = </span><span class="hl-6">genre</span><span class="hl-2"> </span><span class="hl-1">as</span><span class="hl-2"> </span><span class="hl-4">FunkoPopGenre</span><span class="hl-2">;</span><br/><span class="hl-2">          </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">funkoExclusive</span><span class="hl-2"> = </span><span class="hl-6">exclusive</span><span class="hl-2"> === </span><span class="hl-5">&quot;true&quot;</span><span class="hl-2"> ? </span><span class="hl-3">true</span><span class="hl-2"> : </span><span class="hl-3">false</span><span class="hl-2">;</span><br/><span class="hl-2">          </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">newFunkoPop</span><span class="hl-2"> = </span><span class="hl-3">new</span><span class="hl-2"> </span><span class="hl-7">FunkoPop</span><span class="hl-2">(</span><br/><span class="hl-2">            </span><span class="hl-6">id</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-6">name</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-6">description</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-6">funkoType</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-6">funkoGenre</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-6">franchise</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-6">number</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-6">funkoExclusive</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-6">specialFeatures</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-6">marketValue</span><br/><span class="hl-2">          );</span><br/><span class="hl-2">          </span><span class="hl-3">const</span><span class="hl-2"> </span><span class="hl-8">funkoPopFile</span><span class="hl-2"> = </span><span class="hl-8">JSON</span><span class="hl-2">.</span><span class="hl-7">stringify</span><span class="hl-2">(</span><span class="hl-6">newFunkoPop</span><span class="hl-2">);</span><br/><span class="hl-2">          </span><span class="hl-6">fs</span><span class="hl-2">.</span><span class="hl-7">writeFileSync</span><span class="hl-2">(</span><span class="hl-7">join</span><span class="hl-2">(</span><span class="hl-6">userFolder</span><span class="hl-2">, </span><span class="hl-5">`</span><span class="hl-3">${</span><span class="hl-6">id</span><span class="hl-3">}</span><span class="hl-5">.json`</span><span class="hl-2">), </span><span class="hl-6">funkoPopFile</span><span class="hl-2">);</span><br/><span class="hl-2">          </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-6">res</span><span class="hl-2">.</span><span class="hl-7">status</span><span class="hl-2">(</span><span class="hl-9">200</span><span class="hl-2">).</span><span class="hl-7">json</span><span class="hl-2">({</span><br/><span class="hl-2">            </span><span class="hl-6">success:</span><span class="hl-2"> </span><span class="hl-3">true</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-6">funkoPop:</span><span class="hl-2"> </span><span class="hl-6">newFunkoPop</span><span class="hl-2">,</span><br/><span class="hl-2">          });</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">      } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-6">res</span><span class="hl-2">.</span><span class="hl-7">status</span><span class="hl-2">(</span><span class="hl-9">400</span><span class="hl-2">).</span><span class="hl-7">json</span><span class="hl-2">({</span><br/><span class="hl-2">          </span><span class="hl-6">success:</span><span class="hl-2"> </span><span class="hl-3">false</span><span class="hl-2">,</span><br/><span class="hl-2">          </span><span class="hl-6">error:</span><span class="hl-2"> </span><span class="hl-5">&quot;No existe el FunkoPop con ese id&quot;</span><span class="hl-2">,</span><br/><span class="hl-2">        });</span><br/><span class="hl-2">      }</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * Con listen le decimos en que puerto queremos que escuche</span><br/><span class="hl-0"> */</span><br/><span class="hl-6">app</span><span class="hl-2">.</span><span class="hl-7">listen</span><span class="hl-2">(</span><span class="hl-9">3004</span><span class="hl-2">, () </span><span class="hl-3">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-7">log</span><span class="hl-2">(</span><span class="hl-5">&quot;Servidor escuchando en el puerto 1423&quot;</span><span class="hl-2">);</span><br/><span class="hl-2">})</span>
</code></pre>
<p>Vamos a ver las 4 funcionalidades que nos ofrece la aplicacion:</p>
<ul>
<li><p><strong>Get</strong>: Lo usaremos para ver todos los funkos de un usuario o un funko en concreto. Primero se comprueba que se ha introducido un nombre de usuario. Si es así, buscaremos si existe ese usuario buscando su directorio y comprobaremos si hay FunkoPops registrados o no. Finalmente, en caso que haya un id en la petición, devolveremos un objeto json con ese funko. En caso de que no, devolveremos un json con todos los funkos de ese usuario. Ademas tenemos comprobacion de errores, si por ejemplo el id introducido no existe o si no existe el usuario.</p>
</li>
<li><p><strong>Post</strong>: Lo usaremos para añadir un FunkoPop a la lista de un usuario. En primer lugar, comprobaremos que se han introducido todos los datos necesarios del Funko. Buscamos la carpeta del usuario y comprobamos si ya existe un Funko con ese ID. En caso de que no, manejaremos la posibilidad de errores como el tipo, genero, exclusivo o valor de mercados sean incorrectos. Si esta todo bien, añadiremos al directorio el Funko y devolveremos un json con la informacion del funko.</p>
</li>
<li><p><strong>Delete</strong>: Con Delete podremos borrar un Funko del directorio de un usuario. Comprobaremos que se introduce tanto el usuario como el ID del funko. Si el usuario existe, buscaremos el Funko con ese ID y lo eliminaremos, si no existe el usuario o el Funko, devolveremos un mensaje de error.</p>
</li>
<li><p><strong>Patch</strong>: Lo usaremos para modificar un Funko existente.Comprobaremos que estan todos los datos  y buscamos el directorio del usuario. Comprobamos que los datos estan introducidos correctamente como en <strong>Post</strong>. Si es asi, sobreescribiremos el fichero del Funko para modificar los datos. Además, tenemos todos los posibles errores como ID o usuario no existentes.</p>
</li>
</ul>
<p>Finalmente tenemos <strong>listen</strong> para el puerto queremos que escuche el servidor.</p>
<p>Para comprobar la funcionlidad de todo, hemos usado la extension de VSCode <em>Thunder Client</em>, donde hemos usado ejemplos de posibles peticiones para comprobar el correcto funcionamiento del servidor, además de la contemplación de errores.</p>
<p>Para no poner todos los posibles escenarios del servidor y sus peticiones, en los Test hemos probado su total funcionalidad para listar, añadir, modificar o eliminar funkos, asi como algunos de sus errores.</p>

<a href="#tests" id="tests" style="color: inherit; text-decoration: none;">
  <h3>Tests</h3>
</a>
<p>Los tests estan hechos usando el paquete <em>request</em> para llevar a cabo peticiones HTTP mientras el servidor Express se esta ejecutando.</p>
<pre><code><br/><span class="hl-2">  </span><span class="hl-6">Express</span><span class="hl-2"> </span><span class="hl-6">Test</span><br/><span class="hl-2">    ✔ </span><span class="hl-6">Add</span><span class="hl-2"> </span><span class="hl-6">Funko</span><br/><span class="hl-2">    ✔ </span><span class="hl-6">Add</span><span class="hl-2"> </span><span class="hl-6">Funko</span><span class="hl-2"> </span><span class="hl-6">without</span><span class="hl-2"> </span><span class="hl-6">description</span><span class="hl-2"> </span><span class="hl-6">should</span><span class="hl-2"> </span><span class="hl-6">be</span><span class="hl-2"> </span><span class="hl-6">error</span><br/><span class="hl-2">    ✔ </span><span class="hl-6">Get</span><span class="hl-2"> </span><span class="hl-6">All</span><span class="hl-2"> </span><span class="hl-6">Funkos</span><br/><span class="hl-2">    ✔ </span><span class="hl-6">Get</span><span class="hl-2"> </span><span class="hl-6">Funko</span><span class="hl-2"> </span><span class="hl-6">by</span><span class="hl-2"> </span><span class="hl-6">id</span><br/><span class="hl-2">    ✔ </span><span class="hl-6">Get</span><span class="hl-2"> </span><span class="hl-6">Funko</span><span class="hl-2"> </span><span class="hl-6">by</span><span class="hl-2"> </span><span class="hl-6">id</span><span class="hl-2"> </span><span class="hl-6">not</span><span class="hl-2"> </span><span class="hl-6">found</span><br/><span class="hl-2">    ✔ </span><span class="hl-6">Update</span><span class="hl-2"> </span><span class="hl-6">Funko</span><span class="hl-2"> </span><span class="hl-6">by</span><span class="hl-2"> </span><span class="hl-6">id</span><br/><span class="hl-2">    ✔ </span><span class="hl-6">Update</span><span class="hl-2"> </span><span class="hl-6">Funko</span><span class="hl-2"> </span><span class="hl-3">type</span><span class="hl-2"> </span><span class="hl-4">error</span><br/><span class="hl-2">    ✔ Delete Funko by id</span><br/><span class="hl-2">    ✔ Delete Funko by id not found</span><br/><br/><span class="hl-2">  FunkoPop Tests</span><br/><span class="hl-2">    ✔ should create a FunkoPop object</span><br/><span class="hl-2">    ✔ Get ID</span><br/><span class="hl-2">    ✔ Set ID</span><br/><span class="hl-2">    ✔ Get Name</span><br/><span class="hl-2">    ✔ Set Name</span><br/><span class="hl-2">    ✔ Get Description</span><br/><span class="hl-2">    ✔ Set Description</span><br/><span class="hl-2">    ✔ Get Type</span><br/><span class="hl-2">    ✔ Set Type</span><br/><span class="hl-2">    ✔ Get Genre</span><br/><span class="hl-2">    ✔ Set Genre</span><br/><span class="hl-2">    ✔ Get Franchise</span><br/><span class="hl-2">    ✔ Set Franchise</span><br/><span class="hl-2">    ✔ Get Number</span><br/><span class="hl-2">    ✔ Set Number</span><br/><span class="hl-2">    ✔ Get Exclusive</span><br/><span class="hl-2">    ✔ Set Exclusive</span><br/><span class="hl-2">    ✔ Get Special Features</span><br/><span class="hl-2">    ✔ Set Special Features</span><br/><span class="hl-2">    ✔ Get MarketValue</span><br/><span class="hl-2">    ✔ Set MarketValue</span><br/><br/><br/><span class="hl-2">  30 passing (24ms)</span>
</code></pre>
</div></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li class="current selected"><a href="modules.html">practica11</a>
<ul>
<li class="tsd-kind-module"><a href="modules/FunkoPopApp_app.html">Funko<wbr/>Pop<wbr/>App/app</a></li>
<li class="tsd-kind-module"><a href="modules/FunkoPopApp_funko.html">Funko<wbr/>Pop<wbr/>App/funko</a></li>
<li class="tsd-kind-module"><a href="modules/FunkoPopApp_funkoPopGenre.html">Funko<wbr/>Pop<wbr/>App/funko<wbr/>Pop<wbr/>Genre</a></li>
<li class="tsd-kind-module"><a href="modules/FunkoPopApp_funkoPopType.html">Funko<wbr/>Pop<wbr/>App/funko<wbr/>Pop<wbr/>Type</a></li>
<li class="tsd-kind-module"><a href="modules/Mod_app.html">Mod/app</a></li></ul></li></ul></div></details></nav></div></div>
<div class="container tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div><script src="assets/main.js"></script></body></html>